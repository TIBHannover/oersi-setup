---
oerindex_host: 192.168.98.115

mariadb_host: localhost
mariadb_port: 3306
mariadb_jconnector_url: https://repo1.maven.org/maven2/org/mariadb/jdbc/mariadb-java-client/2.5.3/mariadb-java-client-2.5.3.jar

base_dir: "{{ansible_env.HOME}}"
log_show: true

oerindex_db:
  name: oerindex_db
  user: oerindex
  password: oerindexpw

oerindex_frontend_instdir: "/var/www/oersi-frontend"
oerindex_frontend_artifact_url: "https://gitlab.com/oersi/oersi-frontend/-/jobs/artifacts/development/download?job=build"
# Language  example en,de, etc.
oerindex_frontend_lang: en 
# path to a custom style-override.css file
oerindex_frontend_custom_style_css: style-override.css
# path to a custom footer.html file
oerindex_frontend_custom_footer_file_path: footer.html
# path to a custom translation.json file
oerindex_frontend_custom_translation_file_path: translation.json
# a list of custom images that should be copied into ../oersi-frontend/build; format of each entry: [<source-file-path>, <destination under oersi-frontend/build/<image>]
# example: ['local/path/example.svg', 'example.svg']
oerindex_frontend_custom_images:

oerindex_backend_downloaddir: "{{ base_dir }}/oersi-backend"
oerindex_backend_configdir: "{{ base_dir }}/oersi-backend/config"
oerindex_backend_artifact_url: 'https://gitlab.com/oersi/oersi-backend/-/jobs/artifacts/develop/download?job=deploy'
oerindex_backend_searchapi_root_path: '/oersi/es/'
oerindex_backend_url_scheme: 'http'
oerindex_backend_metadataapi_url: 'http://localhost:8080/oersi/api/metadata'

oerindex_harvester_instdir: "{{ base_dir }}/metadata_harvester"

oerindex_etl_downloaddir: "{{ base_dir }}/oersi-etl"
oerindex_etl_configdir: "{{ base_dir }}/oersi-etl/config"
oerindex_etl_artifact_url: 'https://gitlab.com/oersi/oersi-etl/-/jobs/artifacts/develop/download?job=deploy'
oerindex_etl_outputdir: "{{ base_dir }}/oersi-etl/data/to-elasticsearch"
oerindex_etl_configfiles:
  - oernds-to-oersi.flux

elasticsearch_host: localhost
elasticsearch_port: 9200
elasticsearch_home: "/usr/share/elasticsearch"
elasticsearch_elastic_username: elastic
elasticsearch_elastic_password: changeme
elasticsearch_bootstrap_password: bootstrap
elasticsearch_builtin_users:
  - name: apm_system
    password: changeme
  - name: beats_system
    password: changeme
  - name: logstash_system
    password: changeme
  - name: kibana
    password: changeme
  - name: remote_monitoring_user
    password: changeme
elasticsearch_oer_index_name: oer_data
# logstash-user that writes to the oer-index
elasticsearch_oersi_logstash_username: oersi_logstash
elasticsearch_oersi_logstash_password: ch@ngeMe
# user with read-only access to oer-index
elasticsearch_oersi_viewer_username: oersi_viewer
elasticsearch_oersi_viewer_password: ch@ngeMe

elasticsearch_api_url: "http://{{ elasticsearch_host }}:{{ elasticsearch_port }}"

#elasticsearch_network_host: "0.0.0.0"
#elasticsearch_http_port: 9200
#elasticsearch_heap_size_min: 1g
#elasticsearch_heap_size_max: 2g

# install kibana true/false
kibana_install: false
# insternal geerlingguy.kibana properties
kibana_elasticsearch_username: 'kibana'
kibana_elasticsearch_password: '{{ (elasticsearch_builtin_users | selectattr("name", "equalto", "kibana")  | list)[0].password }}'

logstash_monitor_local_syslog: false
logstash_install_plugins:
  - logstash-input-jdbc
  - logstash-filter-jdbc_streaming
  
  
tomcat_name: apache-tomcat-9.0.31
tomcat_archive_url: 'https://archive.apache.org/dist/tomcat/tomcat-9/v9.0.31/bin/{{tomcat_name}}.tar.gz'
tomcat_port: 8080
tomcat_shutdown_port: 8005
tomcat_ssl_port: 8443
tomcat_ajp_port: 8009
tomcat_inst_dir: "{{base_dir}}"
tomcat_bin: "{{tomcat_inst_dir}}/bin"
tomcat_home: "{{tomcat_inst_dir}}/tomcat"
tomcat_start_command: "nohup {{tomcat_bin}}/tomcat.sh start </dev/null >/dev/null 2>&1 &"
tomcat_stop_command: "{{tomcat_bin}}/tomcat.sh stop"

# NOTE: cannot be changed atm, because it is hardcoded in scrapy pipeline-service.py
oerindex_backend_oermetadata_manage_user: test
oerindex_backend_oermetadata_manage_password: test
