---
# Playbook: provisioning of third party software that is required for oersi
- hosts: all
  become: yes
  roles:
    - set-timezone
  tags:
    - root-task

- hosts: oerindex
  become: yes
  roles:
    - mariadb
    - geerlingguy.java
    - elasticsearch
    - logstash
    - role: kibana
      when: kibana_install
    - role: elasticsearch-updates
      tags: elasticsearch-updates

- hosts: oerindex
  roles:
    - tomcat
    - index-scripts

- hosts: oerindex
  become: yes
  roles:
    - nginx
    - role: matomo
      tags: matomo
      when: matomo_install
